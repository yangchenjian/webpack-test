(function(t){var n={};function i(e){if(n[e]){return n[e].exports}var o=n[e]={i:e,l:false,exports:{}};t[e].call(o.exports,o,o.exports,i);o.l=true;return o.exports}i.m=t;i.c=n;i.d=function(t,n,e){if(!i.o(t,n)){Object.defineProperty(t,n,{enumerable:true,get:e})}};i.r=function(t){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})};i.t=function(t,n){if(n&1)t=i(t);if(n&8)return t;if(n&4&&typeof t==="object"&&t&&t.__esModule)return t;var e=Object.create(null);i.r(e);Object.defineProperty(e,"default",{enumerable:true,value:t});if(n&2&&typeof t!="string")for(var o in t)i.d(e,o,function(n){return t[n]}.bind(null,o));return e};i.n=function(t){var n=t&&t.__esModule?function n(){return t["default"]}:function n(){return t};i.d(n,"a",n);return n};i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)};i.p="";return i(i.s=2)})([function(t,n){var i=function(){function t(t){this.carousel=t;this.init();this.bind()}t.prototype={init:function(){var t=this.$imgCt=this.carousel.find(".img-ct"),n=this.$preBtn=this.carousel.find(".btn-pre"),i=this.$nextBtn=this.carousel.find(".btn-next"),e=this.$bullet=this.carousel.find(".bullet");var o=t.find("li").first(),s=t.find("li").last();this.curPageIndex=0;this.imgLength=t.children().length;this.isAnimate=false;this.$firstImg=o;t.prepend(s.clone());t.append(o.clone());t.width(o.width()*t.children().length);t.css("left","-1200px")},bind:function(){var t=this;this.$preBtn.on("click",function(n){n.preventDefault();t.playPre()});this.$nextBtn.on("click",function(n){n.preventDefault();t.playNext()});function n(){setInterval(function(){t.playNext()},2500)}n()},playPre:function(){var t=this;if(this.isAnimate)return;this.isAnimate=true;this.$imgCt.animate({left:"+=1200"},function(){t.curPageIndex--;if(t.curPageIndex<0){t.$imgCt.css("left",-(t.imgLength*t.$firstImg.width()));t.curPageIndex=t.imgLength-1}t.isAnimate=false;t.setBullet()})},playNext:function(){var t=this;if(this.isAnimate)return;this.isAnimate=true;this.$imgCt.animate({left:"-=1200"},function(){t.curPageIndex++;if(t.curPageIndex===t.imgLength){t.$imgCt.css({left:"-1200px"});t.curPageIndex=0}t.isAnimate=false;t.setBullet()})},setBullet:function(){this.$bullet.children().removeClass("active").eq(this.curPageIndex).addClass("active")}};return{init:function(n){n.each(function(n,i){new t($(i))})}}}();i.init($(".carousel"));function e(t){this.$cont=t;this.init();this.bind()}e.prototype={init:function(){var t=this.newsList=this.$cont.find(".news-ct"),n=this.nodeWidth=this.$cont.find(".news-ct>li").outerWidth(true),i=this.colNum=parseInt(this.$cont.find(".news-ct").width()/n),e=this.loadFlag=this.$cont.find("#load"),o=this.colSumHeight=[];this.newsNum=8;this.pageIndex=0;for(var s=0;s<i;s++){o[s]=0}},bind:function(){var t=this;this.process();$(window).scroll(function(){if(t.isShow(t.loadFlag)){t.process()}})},getData:function(t){var n=this;$.ajax({url:"https://platform.sina.com.cn/slide/album_tech",type:"GET",dataType:"jsonp",jsonp:"jsoncallback",data:{app_key:"1271687855",num:this.newsNum,page:this.pageIndex}}).done(function(i){if(i&&i.status&&i.status.code==="0"){t(i.data);n.pageIndex++}else{console.log("服务器没问题，请求有问题")}}).fail(function(){console.log("服务器异常")})},getNode:function(t){var n="";n+="<li>";n+='<a href="'+t.url+'"><img src="'+t.img_url+'"></a>';n+="<h4>"+t.short_name+"</h4>";n+='<p class="summary">'+t.short_intro+"</p>";n+="</li>";return $(n)},render:function(t){var n=this;var i=0;var e=this.colSumHeight[0];for(var o=0;o<n.colSumHeight.length;o++){if(n.colSumHeight[o]<e){i=o;e=n.colSumHeight[o]}}t.css({left:n.nodeWidth*i,top:e});this.colSumHeight[i]=t.outerHeight(true)+this.colSumHeight[i];this.newsList.height(Math.max.apply(null,this.colSumHeight))},process:function(){var t=this;this.getData(function(n){$.each(n,function(n,i){var e=t.getNode(i);e.find("img").load(function(){t.newsList.append(e);t.render(e)})})})},isShow:function(t){var n=$(window).height(),i=t.offset().top,e=$(window).scrollTop(),o=t.outerHeight();if(n+e>i&&i+o>e){return true}return false}};var o=function(){return{init:function(t){t.each(function(t,n){new e($(n))})}}}();o.init($(".newsFlow-cont"));function s(t,n){this.$cont=t||$("body ,html");this.$ele=n;this.bind()}s.prototype={bind:function(){this.showOrhide();this.action()},showOrhide:function(){var t=this;$(window).on("scroll",function(){var n=t.$cont.scrollTop();if(n>300){t.$ele.fadeIn(300)}else{t.$ele.fadeOut(300)}})},action:function(){var t=this;this.$ele.on("click",function(){t.$cont.animate({scrollTop:0},500)})}};new s(null,$(".gotop-cont"))},function(t,n){},function(t,n,i){i(1);i(0)}]);